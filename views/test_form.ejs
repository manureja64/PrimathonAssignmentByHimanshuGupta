<!DOCTYPE html>
<html lang="en">
<%- include('layouts/head');-%>
    <%- include('layouts/header');-%>

        <body>
            <!-- Navigation-->
            <%- include('layouts/navbar');-%>
                <h1>
                    <%= title %>
                </h1>



                <hr>
                <br>
                <form action="" method='POST'>

                    <div>
                        <label for="title">Title: </label>
                        <!-- <input type="text" , id="title" , name="title" , value="<%#=  (null===test? '': test.title) %>"> -->
                        <textarea name="title" id="title" cols="30"
                            rows="10"><%=  (null===test? '': test.title) %></textarea>
                        <script>
                            $('#title').summernote({
                                placeholder: 'Title',
                                tabsize: 2,
                                height: 40
                            });

                        </script>

                        <!-- <input type="hidden" name="direction", value="<%#= (null===test.direction?'': test.direction._id %>">
                    <input type="hidden" name="direction", value="<%#= (null===test.direction?'': test.question._id %>"> -->


                        <% if (test) { %>
                            <!-- For Updating Existing Test and/or when errors occur -->
                            <br><label for="numOfOptions">Number of Options: </label>
                            <select name="numOfOptions" id="numOfOptions">
                                <%# if (test.numOfOptions===4) { %>
                                    <option value="4" <% if (test.numOfOptions===4) { %>
                                        selected
                                        <% } %>>4
                                    </option>
                                    <option value="5" <% if (test.numOfOptions===5) { %>
                                        selected
                                        <% } %>>5
                                    </option>
                            </select>
                            <!-- Selecting duration -->
                            <br><label for="duration">Test Duration: </label>
                            <select name="duration" id="duration">
                                <%# if (test.duration===2) { %>
                                    <option value="2" <% if (test.duration===2) { %>
                                        selected
                                        <% } %> >2 minutes
                                    </option>
                                    <option value="5" <% if (test.duration===5) { %>
                                        selected
                                        <% } %>>5 minutes
                                    </option>
                                    <option value="10" <% if (test.duration===10) { %>
                                        selected
                                        <% } %>>10 minutes
                                    </option>
                                    <option value="15" <% if (test.duration===15) { %>
                                        selected
                                        <% } %>>15 minutes
                                    </option>
                                    <option value="20" <% if (test.duration===20) { %>
                                        selected
                                        <% } %>>20 minutes
                                    </option>
                                    <option value="30" <% if (test.duration===30) { %>
                                        selected
                                        <% } %>>30 minutes
                                    </option>
                                    <option value="60" <% if (test.duration===60) { %>
                                        selected
                                        <% } %>>1 hour
                                    </option>
                            </select>

                            <!-- Selecting Subject -->
                            <br><label for="subject">Choose Subject</label>
                            <select name="subject" id="subject">
                                <%# if (test.subject===0) { %>
                                    <option value="0" <% if (test.subject===0) { %>
                                        selected
                                        <% } %>>All
                                    </option>
                                    <option value="1" <% if (test.subject===1) { %>
                                        selected
                                        <% } %>>Geography
                                    </option>
                                    <option value="2" <% if (test.subject===2) { %>
                                        selected
                                        <% } %>>History
                                    </option>
                                    <option value="3" <% if (test.subject===3) { %>
                                        selected
                                        <% } %>>Civics
                                    </option>
                                    <option value="4" <% if (test.subject===4) { %>
                                        selected
                                        <% } %>>Science
                                    </option>
                                    <option value="5" <% if (test.subject===5) { %>
                                        selected
                                        <% } %>>Economics
                                    </option>

                            </select>

                            <!-- Selecting Class -->
                            <br><label for="class">Choose Class</label>
                            <select name="class" id="class">
                                <%# if (test.class===0) { %>
                                    <option value="0" <% if (test.class===0) { %>
                                        selected
                                        <% } %>>All
                                    </option>
                                    <option value="6" <% if (test.class===6) { %>
                                        selected
                                        <% } %>>VI
                                    </option>
                                    <option value="7" <% if (test.class===7) { %>
                                        selected
                                        <% } %>>VII
                                    </option>
                                    <option value="8" <% if (test.class===8) { %>
                                        selected
                                        <% } %>>VIII
                                    </option>
                                    <option value="9" <% if (test.class===9) { %>
                                        selected
                                        <% } %>>IX
                                    </option>
                                    <option value="10" <% if (test.class===10) { %>
                                        selected
                                        <% } %>>X
                                    </option>
                                    <option value="11" <% if (test.class===11) { %>
                                        selected
                                        <% } %>>XI
                                    </option>
                                    <option value="12" <% if (test.class===12) { %>
                                        selected
                                        <% } %>>XII
                                    </option>

                            </select>

                            <!-- Selecting Chapter -->
                            <!-- <br><label for="chapter">Chapter: </label> -->
                            <!-- <input type="number" name="chapter" id="chapter"
                                value=<%#=(null===test.chapter)?"":test.chapter %>> -->

                            <!-- Selecting Type -->
                            <br><label for="type">Type of Test (Sectional/Full Length) </label>
                            <select name="type" id="type">
                                <%# if (test.type===0) { %>
                                    <option value="0" <% if (test.type===0) { %>
                                        selected
                                        <% } %>>Sectional
                                    </option>
                                    <option value="1" <% if (test.type===1) { %>
                                        selected
                                        <% } %>>Full Length
                                    </option>
                            </select>

                            <% } else { %>
                                <!-- For creating a New Test -->

                                <!-- Selecting Number of Options -->
                                <br> <label for="numOfOptions">Number of Options: </label>
                                <select name="numOfOptions" id="numOfOptions">
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>

                                <!-- Selecting Duration -->
                                <br><label for="duration">Test Duration: </label>
                                <select name="duration" id="duration">
                                    <option value="2">2 minutes</option>
                                    <option value="5">5 minutes</option>
                                    <option value="10">10 minutes</option>
                                    <option value="15">15 minutes</option>
                                    <option value="20">20 minutes</option>
                                    <option value="30">30 minutes</option>
                                    <option value="60">1 hour</option>
                                </select>


                                <!-- Selecting Subject -->
                                <br><label for="subject">Choose Subject</label>
                                <select name="subject" id="subject">
                                    <option value="0">All</option>
                                    <option value="1">Geography</option>
                                    <option value="2">History</option>
                                    <option value="3">Civics</option>
                                    <option value="4">Science</option>
                                    <option value="5">Economics</option>
                                </select>


                                <!-- Selecting Class -->
                                <br><label for="class">Choose Class</label>
                                <select name="class" id="class">

                                    <option value="0">All</option>
                                    <option value="6">VI</option>
                                    <option value="7">VII</option>
                                    <option value="8">VIII</option>
                                    <option value="9">IX</option>
                                    <option value="10">X</option>
                                    <option value="11">XI</option>
                                    <option value="12">XII</option>
                                </select>

                                <!-- <br><label for="chapter">Chapter: </label>
                                <input type="number" name="chapter" id="chapter"> -->

                                <br><label for="type">Type: </label>
                                <select name="type" id="type">
                                    <option value="0">Sectional</option>
                                    <option value="1">Full Length</option>
                                </select>
                                <% } %>
                                    <br><label for="chapter">Chapter: </label>
                                    <!-- "" is removed from value so to extract value from test.chapter -->
                                    <input type="number" name="chapter" id="chapter" value=<%=(null===test? ''
                                        :test.chapter) %>>

                                    <!-- <input type="number" name="chapter" id="chapter" value="<%#= (test.chapter) %> "> -->

                                    <br><label for="message">Message: </label>
                                    <textarea , id="message" , name="message" ,
                                        value="<%= (null===test? '' : test.message) %> "><%= (null===test? '' : test.message) %></textarea>
                                    <script>
                                        $('#message').summernote({
                                            placeholder: 'Message for the Test',

                                            tabsize: 2,
                                            height: 100
                                        });
                                    </script>

                                    <br><label for="notes">Notes: </label>
                                    <textarea , id="notes" , name="notes" ,
                                        value="<%= (null===test? '' : test.notes) %> "><%= (null===test? '' : test.notes) %></textarea>
                                    <script>
                                        $('#notes').summernote({
                                            placeholder: 'Notes for the Test',

                                            tabsize: 2,
                                            height: 200
                                        });
                                    </script>

                                    <button type="submit">submit</button>

                    </div>
                    <% if (errors) { %>
                        <ul>
                            <% for( let i=0; i < errors.length; i++ ) { %>
                                <li>
                                    <%= errors[i].msg %>
                                </li>

                                <% } %>
                        </ul>

                        <% } %>
                </form>

        </body>

        <script src="js/index.js"></script>

</html>